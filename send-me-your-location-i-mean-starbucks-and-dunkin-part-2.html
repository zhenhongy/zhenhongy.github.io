<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7" prefix="og: http://ogp.me/ns#" itemscope itemtype="http://schema.org/BlogPosting"> <![endif]-->
<!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8" prefix="og: http://ogp.me/ns#" itemscope itemtype="http://schema.org/BlogPosting"> <![endif]-->
<!--[if IE 8]>         <html lang="en" class="no-js lt-ie9" prefix="og: http://ogp.me/ns#" itemscope itemtype="http://schema.org/BlogPosting"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js" prefix="og: http://ogp.me/ns#" itemscope itemtype="http://schema.org/BlogPosting"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Send me your location, I mean Starbucks and Dunkin' - Part 2</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Check out Starbucks' and Dunkin's favorite types of merchants and the difference between their preferences.">
<link rel="shortcut icon" href="http://zhenhongy.github.io/images/favicon.ico" type="image/vnd.microsoft.icon">
<meta name="author" content="Don(Zhenhong) Yang">
<meta name="copyright" content="Don(Zhenhong) Yang">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta property="og:site_name" content="Don & Zhenhong's Data Lab" />

<meta property="og:title" content="Send me your location, i mean starbucks and dunkin' - part 2" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" />
<meta property="fb:app_id" content="317889598672371" />
<meta name="twitter:title" content="Send me your location, i mean starbucks and dunkin' - part 2" />
<meta name="twitter:url" content="http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" />
<meta itemprop="url" content="http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" />
<meta property="og:description" content="Check out Starbucks&#39; and Dunkin&#39;s favorite types of merchants and the difference between their preferences." />
<meta name="twitter:description" content="Check out Starbucks&#39; and Dunkin&#39;s favorite types of merchants and the difference between their preferences." />
<meta property="og:article:published_time" content="2017-10-17" />
<meta property="og:article:author" content="Don(Zhenhong) Yang" >
<meta property="og:article:tag" content="Data Visualization">
<meta property="og:article:tag" content="Bayesian Statistics">
<meta property="og:image" content="https://zhenhongy.github.io/images/starbucks_dd/page.jpg" />
<meta property="og:image:secure_url" content="https://zhenhongy.github.io/images/starbucks_dd/page.jpg" />
<meta name="twitter:image" content="https://zhenhongy.github.io/images/starbucks_dd/page.jpg" />
<meta itemprop="image" content="https://zhenhongy.github.io/images/starbucks_dd/page.jpg"/>

<link href="http://zhenhongy.github.io/None" type="application/atom+xml" rel="alternate" title="Don & Zhenhong's Data Lab ATOM Feed"/>
<link href='//fonts.googleapis.com/css?family=Open+Sans:800italic' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/uikit/2.15.0/css/uikit.min.css">
<link rel="stylesheet" href="/theme/css/solarized.css">
<link rel="stylesheet" href="/theme/css/main.css">

<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
</head>
<body>
<!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

<header class=" mg-header uk-navbar uk-navbar-attached">

    <div class="uk-container uk-container-center">
        <div class="uk-grid" data-uk-grid-margin>

            <a class="mg-brand uk-navbar-brand uk-hidden-small" href="http://zhenhongy.github.io">Don & Zhenhong's Data Lab</a>
            <div class="mg-tagline uk-navbar-content uk-hidden-small">Let me tell you a story...</div>
            <a class="uk-navbar-toggle uk-visible-small" href="#mg-offcanvas" data-uk-offcanvas></a>
            <a class="mg-brand uk-navbar-brand uk-navbar-center uk-visible-small" href="http://zhenhongy.github.io">Don & Zhenhong's Data Lab</a>

        </div>
    </div>
</header>

<main class="mg-main">

<div class="uk-container uk-container-center">

    <div class="uk-grid" data-uk-grid-margin>
        
<div class="mg-container-social uk-width-medium-1-10 uk-hidden-small">

    <div class="uk-panel" id="mg-panel-social">
        <ul class="uk-nav uk-nav-side">
            <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;" taget="_blank" class="uk-button"><i class="uk-icon-facebook-square"></i> </a>
            </li>
            <li>
            <a href="https://twitter.com/intent/tweet?text=Send%20me%20your%20location%2C%20I%20mean%20Starbucks%20and%20Dunkin%27%20-%20Part%202&url=http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html&via=" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;" class="uk-button" target="_blank"><i class="uk-icon-twitter"></i> </a>
            </li>
            <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;" taget="_blank" class="uk-button"><i class="uk-icon-linkedin"></i> </a>
            </li>
            <li>
            <a href="https://plus.google.com/share?url=http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;" target="_blank" class="uk-button"><i class="uk-icon-google-plus-square"></i> </a>
            </li>
        </ul>
    </div>

</div>

<div class="uk-width-medium-7-10">

    <article class="uk-article">
        <h1 class="uk-heading-large uk-article-title" itemprop="name">Send me your location, I mean Starbucks and Dunkin' - Part 2</h1>
        <p class="uk-article-meta"><time datetime="2017-10-17" itemprop="datePublished">Tue 17 October 2017</time> in <a href="http://zhenhongy.github.io/category/business.html">Business</a>, <br class="uk-visible-small"><i class="uk-icon-comment"></i> <a href="http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html#disqus_thread" itemprop="discussionUrl"></a></p>

        <a href="https://www.facebook.com/sharer/sharer.php?u=http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;" taget="_blank" class="uk-button uk-visible-small"><i class="uk-icon-facebook-square"></i> </a>
        <a href="https://twitter.com/intent/tweet?text=Send%20me%20your%20location%2C%20I%20mean%20Starbucks%20and%20Dunkin%27%20-%20Part%202&url=http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html&via=" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;" class="uk-button uk-visible-small" target="_blank"><i class="uk-icon-twitter"></i> </a>
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;" taget="_blank" class="uk-button uk-visible-small"><i class="uk-icon-linkedin"></i> </a>
        <a href="https://plus.google.com/share?url=http://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;" target="_blank" class="uk-button uk-visible-small"><i class="uk-icon-google-plus-square"></i> </a>

        <section itemprop="articleBody"><p><center>
<img alt="Starbucks&amp;Dunkin'" src="/images/starbucks_dd/page.jpg">
</center>
<a href="https://www.bostonglobe.com/metro/regionals/north/2013/06/01/dunkin-donuts-and-starbucks-battle-out-for-coffee-supremacy-greater-boston/QK33ZCIAGcTNO04aVH6vJN/story.html">Credit: Boston Globe</a></p>
<blockquote>
<p><em>"How many coffee shops in Boston?"</em></p>
</blockquote>
<p>Hmmm...well, suppose there are 1 million people in Boston. Then... NOPE. Stop it. This series is nothing about strategy for any brain teaser.
This is an analysis about two major coffeehouse chains, Starbucks vs Dunkin' Donuts, "corporate + license" vs pure franchise, in Boston area. I will walk you through their distribution and strategies of choosing a location (if consistent). This series is roughly separated by following parts.</p>
<ul>
<li><a href="https://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-0.html">Part 0: Get the data prepared!</a></li>
<li><a href="https://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-1.html">Part 1: A glance at locations</a></li>
<li><a href="https://zhenhongy.github.io/send-me-your-location-i-mean-starbucks-and-dunkin-part-2.html">Part 2: Who are Dunkin's and Starbucks' favorite neighbors? - Emperical Bayes Analysis</a></li>
<li>Part 3: What can we expect around a store? - Network Visualization</li>
</ul>
<hr>
<h1>Who are Dunkin's and Starbucks' favorite neighbors?</h1>
<p>In this post, you would find out what type of community does Starbucks and Dunkin' prefer. And I will show you if this preference is consistent among different regions. You can also find my code 
<a href="https://github.com/zhenhongy/starbucks_dd/blob/master/Send%20me%20your%20location%2C%20I%20mean%20Starbucks%20and%20Dunkin'%20-%20Part%200.ipynb">here</a>. Enjoy!</p>
<p>Quick review of datasets:  <br>
<em> <strong>nearby</strong>: The amount of merchant within 1000 meters (0.6 mile) for a given store <br>
</em> <strong>merchants</strong>: The geometry data of merchants nearby</p>
<p>For the significance of analysis results, I combined categories as <strong><em>others</em></strong> if there are more than 10% of coffeeshops with no any this type of merchant around. This is the final list of categories for this post: <br>
<em>atm, bank, beauty_salon, cafe, car_repair, church, convenience_store, electronics_store, gas_station, gym, home_goods_store, laundry, liquor_store, park, physiotherapist, restaurant_cheap, school, transit_station, other</em></p>
<h2>Restaurants and ATMs are on FIRE!</h2>
<p>After you get a cup of coffee from either Starbucks or Dunkin', it won't be hard for you to find a cheap resturant or an ATM. These are the same top 2 popular merchants/facilities in the neighborhood. Besides the nature of business, it might also make sense because of people grabbing a drink after a quick meal. Typically, those resturants won't serve coffee.
Most of Dunkin' and Starbucks stores are located in the area with lots of cafe stores. It shows Dunkin', Starbucks and other cafe store should share some similar strategies in choosing locations.</p>
<h3>Todo: Insert bokeh</h3>
<h2>Dunkin' really loves transit station, car repair store and gas station</h2>
<p>Numerically, we can evaluate a preference for a specific type of merchant by the possibilty(statistically speaking, probability) of it within the neighborhood. Supposedly, the number of each type should follow <a href="https://en.wikipedia.org/wiki/Multinomial_distribution">Multinomial distribution</a> with a prior <a href="https://en.wikipedia.org/wiki/Dirichlet_distribution">Dirichlet distribution</a>. </p>
<p>The plot of probability of each merchants from Bayesian model is pretty similar to the plot of the average number of each merchants in the previous part.    </p>
<p>However, Dunkin' has a much stronger preference of transit station, car repair store, gas station and church than Starbucks. Besides, Dunkin' is more likely to be in the area with laundry store, liquor store, park and school. In contrast, Starbucks has a relatively stronger preference with bank, beauty salon and gym than Dunkin'. It basically comforms to the different markets they focuses on (i.e, commercial and bussiness districts for Starbucks; resident districts and places related to commuting, like transit station and high way, for Dunkin').</p>
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js?ver=1.3.2'></script>

<script type='text/javascript'>

    $(function(){

        var iFrames = $('iframe');

        function iResize() {

            for (var i = 0, j = iFrames.length; i < j; i++) {
              iFrames[i].style.height = iFrames[i].contentWindow.document.body.offsetHeight + 'px';}
            }

            if ($.browser.safari || $.browser.opera) { 

               iFrames.load(function(){
                   setTimeout(iResize, 0);
               });

               for (var i = 0, j = iFrames.length; i < j; i++) {
                    var iSource = iFrames[i].src;
                    iFrames[i].src = '';
                    iFrames[i].src = iSource;
               }

            } else {
               iFrames.load(function() { 
                   this.style.height = this.contentWindow.document.body.offsetHeight + 'px';
               });
            }

        });

</script>

<iframe src="/bokeh/bar_interval.html" frameborder="0" scrolling="no"></iframe>

<h2>Limitation</h2>
<ul>
<li>Due to a maximum of 200 results for each search, the number of merchants may not describe its actual situation well. </li>
</ul>
<hr>
<h1>What's next?</h1>
<p>You will know which type of merchant is a must for a coffeehouse in the next post. And you will also get an idea of the relation between occurance of each type of merchants. At the end,
let's see if we can segment all coffeeshop by the pattern of relation.</p></section>
        <hr class="uk-article-divider">
    </article>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'Don'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
     var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
     dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
     (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>
 
    
        <div class="uk-width-medium-1-5 uk-hidden-small">

            <div class="uk-panel uk-panel-box">
                <ul class="uk-nav uk-nav-side">
                    <li class="uk-nav-header">Categories</li>
                    <li class="uk-active"><a href="http://zhenhongy.github.io/category/business.html">Business</a></li>
                    <li class="uk-nav-header">Pages</li>
                    
                    <li >
                        <a href="http://zhenhongy.github.io/pages/about-me.html">About me</a>
                    </li>
                    

                    <li class="uk-nav-divider"></li>
                    <li ><a href="http://zhenhongy.github.io/archives.html">Archives</a></li>
                </ul>
            </div>

            <div class="uk-panel uk-panel-box">
                <h3 class="uk-panel-title">Receive Updates</h3>
                <a rel="alternate" type="application/atom+xml" href="http://zhenhongy.github.io/feeds/all.rss.xml" class="mg-feed"><i class="uk-icon-rss uk-icon-medium"></i> RSS</a>
            </div>
            
            <div class="uk-panel uk-panel-box">
                <h3 class="uk-panel-title">Contacts</h3>
                <a class="mg-icon-link" href="mailto:zhenhongy_1992@hotmail.com">
                    <i class="uk-icon-envelope uk-icon-medium"></i>
                </a>
                <a class="mg-icon-link" href="https://twitter.com/Zhenhong1992">
                    <i class="uk-icon-twitter uk-icon-medium"></i>
                </a>
                <a class="mg-icon-link" href="https://www.linkedin.com/in/zhenhongyang/">
                    <i class="uk-icon-linkedin uk-icon-medium"></i>
                </a>
                <a class="mg-icon-link" href="https://github.com/zhenhongy">
                    <i class="uk-icon-github uk-icon-medium"></i>
                </a>
            </div>

        </div>

    </div>

</div>

</main>

<footer class="mg-footer">
    <div class="uk-container uk-container-center uk-text-center">

        <div class="mg-icons-small uk-subnav uk-visible-small">
            <li><a rel="alternate" type="application/atom+xml" href="http://zhenhongy.github.io/None" class="uk-icon-button uk-icon-rss"></a></li>
            <li>
                <a href="mailto:zhenhongy_1992@hotmail.com" class="uk-icon-button uk-icon-envelope"></a>
            </li>
            <li>
                <a href="https://twitter.com/Zhenhong1992" class="uk-icon-button uk-icon-twitter"></a>
            </li>
            <li>
                <a href="https://www.linkedin.com/in/zhenhongyang/" class="uk-icon-button uk-icon-linkedin"></a>
            </li>
            <li>
                <a href="https://github.com/zhenhongy" class="uk-icon-button uk-icon-github"></a>
            </li>
        </div>

        <div class="mg-author uk-panel">
            <p></p>

            <p>Powered by <a href="http://blog.getpelican.com">Pelican</a>.<br class="uk-visible-small"> Theme <a href="https://github.com/lucachr/pelican-mg">mg</a> by <a href="https://github.com/lucachr">Luca Chiricozzi</a>.</p>
        </div>
    </div> 
</footer>

<div id="mg-offcanvas" class="uk-offcanvas">
    <div class="uk-offcanvas-bar">

        <ul class="uk-nav uk-nav-offcanvas" data-uk-nav>
            <li class="uk-nav-header">Categories</li>
            <li class="uk-active"><a href="http://zhenhongy.github.io/category/business.html">Business</a></li>
            <li class="uk-nav-header">Pages</li>        
            <li >
                <a href="http://zhenhongy.github.io/pages/about-me.html">About me</a>
            </li>
                    

            <li class="uk-nav-divider"></li>
            <li><a href="http://zhenhongy.github.io/">Archives</a></li>
        </ul>
    </div>
</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/uikit/2.15.0/js/uikit.min.js"></script>
<script src="/theme/js/jquery.sticky-kit.js"></script>
<script src="/theme/js/plugins.js"></script>
<script src="/theme/js/main.js"></script>

<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'Don'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
 var s = document.createElement('script'); s.async = true;
 s.type = 'text/javascript';
 s.src = '//' + disqus_shortname + '.disqus.com/count.js';
 (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
 }());
</script>

<script>
(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
                                                        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
 e=o.createElement(i);r=o.getElementsByTagName(i)[0];
 e.src='//www.google-analytics.com/analytics.js';
 r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-106946855-1');ga('send','pageview');
</script>

</body>
</html>
